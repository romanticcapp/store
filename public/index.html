<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tech Store</title>

<style>
body{margin:0;font-family:system-ui;background:#f1f5f9}
nav{background:#0f172a;color:white;padding:18px}
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:40px}
.card{background:white;border-radius:14px;overflow:hidden;cursor:pointer}
.card img{width:100%;height:200px;object-fit:cover}
.price{color:#22c55e;font-weight:bold}
.old{color:red;text-decoration:line-through;font-size:13px}
</style>
</head>
<body>

<nav>
<h2>ðŸ”¥ Tech Store</h2>
</nav>

<div class="products" id="products"></div>

<script>
fetch('/api/products')
.then(res=>res.json())
.then(data=>{
  data.forEach(p=>{

    const finalPrice = p.discount
      ? p.price - (p.price * p.discount/100)
      : p.price;

    products.innerHTML+=`
    <div class="card" onclick="location.href='/product.html?id=${p.id}'">
      <img src="${p.images[0]}">
      <div style="padding:15px">
        <h3>${p.name}</h3>
        ${p.discount ? `<div class='old'>${p.price} Ø¬Ù†ÙŠÙ‡</div>`:''}
        <div class="price">${finalPrice} Ø¬Ù†ÙŠÙ‡</div>
        <small>Ù…ØªØ¨Ù‚ÙŠ ${p.stock}</small>
      </div>
    </div>`;
  })
})
</script>

</body>
</html>
