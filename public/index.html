<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tech Store</title>

<style>

body{
margin:0;
font-family:system-ui;
background:linear-gradient(135deg,#02140a,#06361d);
color:white;
}

/* NAVBAR */

nav{
display:flex;
justify-content:space-between;
padding:20px;
background:#00ff8844;
backdrop-filter:blur(10px);
position:sticky;
top:0;
}

.logo{
font-size:22px;
font-weight:bold;
color:#00ff88;
}

.cart{
cursor:pointer;
background:#00ff88;
color:black;
padding:8px 14px;
border-radius:10px;
font-weight:bold;
transition:.3s;
}

.cart:hover{
transform:scale(1.1);
}

/* PRODUCTS */

.container{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:25px;
padding:30px;
}

.card{
background:#0b2d1a;
border-radius:18px;
padding:15px;
transition:.3s;
cursor:pointer;
}

.card:hover{
transform:translateY(-10px);
box-shadow:0 0 20px #00ff88;
}

.card img{
width:100%;
border-radius:12px;
}

.price{
color:#00ff88;
font-size:20px;
margin-top:5px;
}

button{
width:100%;
padding:10px;
border:none;
border-radius:10px;
background:#00ff88;
font-weight:bold;
cursor:pointer;
margin-top:10px;
}

button:hover{
background:#00cc6a;
}

/* CART PANEL */

.cartPanel{
position:fixed;
right:-400px;
top:0;
width:320px;
height:100%;
background:#041b10;
padding:20px;
transition:.4s;
overflow:auto;
}

.showCart{
right:0;
}

</style>
</head>
<body>

<nav>

<div class="logo">üî• Tech Store</div>

<div class="cart" onclick="toggleCart()">
üõí ÿßŸÑÿ≥ŸÑÿ© (<span id="count">0</span>)
</div>

</nav>


<div class="container" id="products"></div>


<div class="cartPanel" id="cartPanel">
<h2>ÿßŸÑÿ≥ŸÑÿ©</h2>
<div id="cartItems"></div>
</div>


<script>

let cart=[];

// ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÖŸÜ ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ±
fetch("/api/products")
.then(res=>res.json())
.then(data=>{

const container=document.getElementById("products");

data.forEach(p=>{

container.innerHTML+=`

<div class="card">

<img src="${p.images[0]}" />

<h3>${p.name}</h3>

<div class="price">${p.price} ÿ¨ŸÜŸäŸá</div>

<button onclick='addToCart(${JSON.stringify(p)})'>
ÿßÿ∂ŸÅ ŸÑŸÑÿ≥ŸÑÿ©
</button>

</div>

`;

});

});


// ÿßŸÑÿ≥ŸÑÿ©

function addToCart(product){

cart.push(product);

document.getElementById("count").innerText=cart.length;

renderCart();

}

function toggleCart(){
document.getElementById("cartPanel")
.classList.toggle("showCart");
}

function renderCart(){

const box=document.getElementById("cartItems");

box.innerHTML="";

cart.forEach(p=>{

box.innerHTML+=`
<p>${p.name} - ${p.price} ÿ¨ŸÜŸäŸá</p>
`;

});

}

</script>

</body>
</html>
